!function(t,e){for(var n in e)t[n]=e[n]}(this,function(t){var e={};function n(i){if(e[i])return e[i].exports;var o=e[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(i,o,function(e){return t[e]}.bind(null,o));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=5)}([function(t,e){t.exports=require("sketch/ui")},function(t,e,n){t.exports={openSettingsDialog:n(8),readSettings:n(3),saveSettings:n(17),...n(18)}},function(t,e,n){t.exports={TEXT_BOX:n(12),RADIO_BUTTONS:n(13)}},function(t,e,n){const i=n(4),{packageJsonConfigKey:o}=n(14),r=n(15);t.exports=function(){const{defaultSettings:t}=r()[o];return Object.keys(t).reduce(function(e,n){const o=i.settingForKey(n),r=t[n];return e[n]=void 0!==o?o:r,e},{})}},function(t,e){t.exports=require("sketch/settings")},function(t,e,n){t.exports={"extract-text":n(6).default}},function(t,e,n){"use strict";n.r(e);const i=n(7),o=n(0),{openSettingsDialog:r,saveSettings:s}=n(1),a=n(19),c=n(20),u=n(21),l=n(22);e.default=function(){const t=r(l);t&&s({settings:t});const e=i.getSelectedDocument(),n=e.selectedLayers;let p=[];if(n.isEmpty){const t=e.selectedPage;if(0==(p=c(t.layers)).length)return void o.message("No text layers on the page")}else if(0==(p=c(n.layers)).length)return void o.message("No text layers in selection");const f=t.regularExpression,d=new RegExp(""==f?"^.+$":f),g=a({textLayers:p,regularExpression:d,shouldMatchTextLayerContent:"Match layer content"==t.matchType}),h=g.length;if(0==h)return void o.message("No matches");const x=g.map(function(t){return t.text}).reverse().join("\n");u(x),o.message(`Copied ${h} match${1!=h?"es":""} to clipboard`)}},function(t,e){t.exports=require("sketch/dom")},function(t,e,n){const i=n(9),o=n(10),r=n(11),s=n(2),a=n(3),{inputHeight:c,inputPaddingBottom:u,labelHeight:l,labelPaddingBottom:p,width:f}=n(16);t.exports=function({title:t,inputs:e}){const n=a(),{inputs:d,views:g,stackViewHeight:h}=function({inputsConfig:t,settings:e}){const n={},i=[];let r=0;return t.forEach(function({type:t,key:a,label:d,...g}){if(d){const t=o({label:d,width:f,height:l});i.push({view:t,paddingBottom:p}),r+=l+p}const h=e[a],{view:x,retrieveValue:y}=s[t]({value:h,width:f,height:c,...g});i.push({view:x,paddingBottom:u}),r+=c+u,n[a]=y}),{inputs:n,views:i,stackViewHeight:r-=u}}({inputsConfig:e,settings:n}),x=r({width:f,height:h,views:g}),y=i(t);return y.setAccessoryView(x),"1000"==y.runModal()?Object.keys(d).reduce(function(t,e){const n=d[e];return t[e]=n(),t},{}):null}},function(t,e){t.exports=function(t){const e=NSAlert.alloc().init();return e.window().setAutorecalculatesKeyViewLoop(!0),e.setMessageText(t),e.addButtonWithTitle("OK"),e.addButtonWithTitle("Cancel"),e}},function(t,e){t.exports=function({label:t,width:e,height:n}){const i=NSTextField.alloc().initWithFrame(NSMakeRect(0,0,e,n));return i.setBezeled(!1),i.setDrawsBackground(!1),i.setEditable(!1),i.setLineBreakMode(NSLineBreakByTruncatingTail),i.setSelectable(!1),i.setStringValue(t),i}},function(t,e){t.exports=function({width:t,height:e,views:n}){const i=NSStackView.alloc().initWithFrame(NSMakeRect(0,0,t,e));return i.setAlignment(NSLayoutAttributeLeft),i.setOrientation(NSUserInterfaceLayoutOrientationVertical),i.setSpacing(0),i.setTranslatesAutoresizingMaskIntoConstraints(!0),i.updateConstraintsForSubtreeIfNeeded(),n.forEach(function({view:t,paddingBottom:e}){i.addView_inGravity_(t,NSStackViewGravityTop),i.setCustomSpacing_afterView_(e,t)}),i}},function(t,e){t.exports=function({width:t,height:e,value:n,placeholder:i}){const o=NSTextField.alloc().initWithFrame(NSMakeRect(0,0,t,e));return o.setStringValue(n),i&&o.setPlaceholderString(i),{view:o,retrieveValue:function(){return o.stringValue()}}}},function(t,e){t.exports=function({width:t,height:e,value:n,possibleValues:i}){const o=NSButtonCell.alloc().init();o.setButtonType(NSRadioButton);const r=i.length,s=NSMatrix.alloc().initWithFrame_mode_prototype_numberOfRows_numberOfColumns(NSMakeRect(0,0,t,e),NSRadioModeMatrix,o,1,r);s.setCellSize(CGSizeMake(Math.floor(t/r),e)),s.cells().forEach(function(t,e){t.setTitle(i[e])});const a=i.indexOf(n);return s.selectCellAtRow_column(0,a),{view:s,retrieveValue:function(){const t=s.cells().indexOfObject(s.selectedCell());return i[t]}}}},function(t,e){t.exports={appcastFileName:"appcast.xml",bundleFileName:"plugin.js",manifestFileName:"manifest.json",packageJsonConfigKey:"sketch-plugin-helper",sourceDirectory:"./src"}},function(t,e){t.exports=function(){return JSON.parse('{\n  "private": true,\n  "version": "0.2.0",\n  "devDependencies": {\n    "sketch-plugin-helper": "*"\n  },\n  "scripts": {\n    "build": "sph build",\n    "fix": "sph lint --fix",\n    "lint": "sph lint",\n    "watch": "sph watch"\n  },\n  "sketch-plugin-helper": {\n    "pluginName": "Extract Text",\n    "pluginDescription": "A Sketch plugin to extract text from layers that match a regular expression",\n    "authorName": "Lim Yuan Qing",\n    "githubUserName": "yuanqing",\n    "githubRepositoryName": "sketch-extract-text",\n    "menu": [\n      {\n        "handler": "extract-text",\n        "label": "Extract Text",\n        "shortcut": "ctrl option cmd e"\n      }\n    ],\n    "defaultSettings": {\n      "matchType": "Match layer content",\n      "regularExpression": "^Remark"\n    }\n  }\n}\n')}},function(t,e){t.exports={inputHeight:20,inputPaddingBottom:12,labelHeight:20,labelPaddingBottom:6,width:300}},function(t,e,n){const i=n(4),o=n(0);t.exports=function({settings:t,successMessage:e}){void 0!==t&&(Object.keys(t).forEach(function(e){const n=t[e];void 0!==n&&i.setSettingForKey(e,n)}),e&&o.message(e))}},function(t,e,n){const i=n(2),o=Object.keys(i).reduce(function(t,e){return t[e]=e,t},{});t.exports=o},function(t,e){t.exports=function({textLayers:t,regularExpression:e,shouldMatchTextLayerContent:n}){return t.filter(function(t){const i=t.text,o=t.name;return!(""==i||!e.test(n?i:o))})}},function(t,e){t.exports=function t(e,n){return n=n||[],e.forEach(function(e){"Text"!=e.type?"Artboard"!=e.type&&"Group"!=e.type||t(e.layers,n):n.push(e)}),n}},function(t,e){t.exports=function(t){const e=NSPasteboard.generalPasteboard();e.clearContents(),e.setString_forType(function(t){return"\n"!=t.charAt(t.length-1)?t+"\n":t}(t),NSStringPboardType)}},function(t,e,n){const{TEXT_BOX:i,RADIO_BUTTONS:o}=n(1);t.exports={title:"Extract Text",inputs:[{key:"regularExpression",label:"Regular Expression",type:i},{key:"matchType",type:o,possibleValues:["Match layer content","Match layer name"]}]}}]));