!function(e,t){for(var n in t)e[n]=t[n]}(this,function(e){var t={};function n(i){if(t[i])return t[i].exports;var o=t[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(i,o,function(t){return e[t]}.bind(null,o));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=5)}([function(e,t,n){e.exports={openSettingsDialog:n(7),readSettings:n(2),saveSettings:n(17),...n(18),...n(19)}},function(e,t,n){e.exports={TEXT_BOX:n(11),RADIO_BUTTONS:n(12),DROP_DOWN:n(13)}},function(e,t,n){const i=n(3),{packageJsonConfigKey:o}=n(14),r=n(15);e.exports=function(){const{defaultSettings:e}=r()[o];return Object.keys(e).reduce(function(t,n){const o=i.settingForKey(n),r=e[n];return t[n]=void 0!==o?o:r,t},{})}},function(e,t){e.exports=require("sketch/settings")},function(e,t){e.exports=require("sketch/ui")},function(e,t,n){e.exports={"extract-text":n(6).default}},function(e,t,n){"use strict";n.r(t);const{getAllLayers:i,getSelectedLayers:o,openSettingsDialog:r,saveSettings:s,showMessage:c}=n(0),a=n(21),u=n(22),l=n(23),p=n(24);t.default=function(){const e=r(p);e&&s({settings:e});const t=o();let n=[];if(0==t.length){if(0==(n=u(i())).length)return void c("No text layers on the page")}else if(0==(n=u(t)).length)return void c("No text layers in selection");const f=e.regularExpression,d=new RegExp(""==f?"^.+$":f),g=a({textLayers:n,regularExpression:d,shouldMatchTextLayerContent:"Match layer content"==e.matchType}),h=g.length;if(0==h)return void c("No matches");const x=g.map(function(e){return e.text}).reverse().join("\n");l(x),c(`Copied ${h} match${1!=h?"es":""} to clipboard`)}},function(e,t,n){const i=n(8),o=n(9),r=n(10),s=n(1),c=n(2),{inputHeight:a,inputPaddingBottom:u,labelHeight:l,labelPaddingBottom:p,width:f}=n(16);e.exports=function({title:e,inputs:t}){const n=c(),{inputs:d,views:g,stackViewHeight:h}=function({inputsConfig:e,settings:t}){const n={},i=[];let r=0;return e.forEach(function({type:e,key:c,label:d,...g}){if(d){const e=o({label:d,width:f,height:l});i.push({view:e,paddingBottom:p}),r+=l+p}const h=t[c],{view:x,retrieveValue:y}=s[e]({value:h,width:f,height:a,...g});i.push({view:x,paddingBottom:u}),r+=a+u,n[c]=y}),{inputs:n,views:i,stackViewHeight:r-=u}}({inputsConfig:t,settings:n}),x=r({width:f,height:h,views:g}),y=i(e);return y.setAccessoryView(x),"1000"==y.runModal()?Object.keys(d).reduce(function(e,t){const n=d[t];return e[t]=n(),e},{}):null}},function(e,t){e.exports=function(e){const t=NSAlert.alloc().init();return t.window().setAutorecalculatesKeyViewLoop(!0),t.setMessageText(e),t.addButtonWithTitle("OK"),t.addButtonWithTitle("Cancel"),t}},function(e,t){e.exports=function({label:e,width:t,height:n}){const i=NSTextField.alloc().initWithFrame(NSMakeRect(0,0,t,n));return i.setBezeled(!1),i.setDrawsBackground(!1),i.setEditable(!1),i.setLineBreakMode(NSLineBreakByTruncatingTail),i.setSelectable(!1),i.setStringValue(e),i}},function(e,t){e.exports=function({width:e,height:t,views:n}){const i=NSStackView.alloc().initWithFrame(NSMakeRect(0,0,e,t));return i.setAlignment(NSLayoutAttributeLeft),i.setOrientation(NSUserInterfaceLayoutOrientationVertical),i.setSpacing(0),i.setTranslatesAutoresizingMaskIntoConstraints(!0),i.updateConstraintsForSubtreeIfNeeded(),n.forEach(function({view:e,paddingBottom:t}){i.addView_inGravity_(e,NSStackViewGravityTop),i.setCustomSpacing_afterView_(t,e)}),i}},function(e,t){e.exports=function({width:e,height:t,value:n,placeholder:i}){const o=NSTextField.alloc().initWithFrame(NSMakeRect(0,0,e,t));return o.setStringValue(n),i&&o.setPlaceholderString(i),{view:o,retrieveValue:function(){return o.stringValue()}}}},function(e,t){e.exports=function({width:e,height:t,value:n,possibleValues:i}){const o=NSButtonCell.alloc().init();o.setButtonType(NSRadioButton);const r=i.length,s=NSMatrix.alloc().initWithFrame_mode_prototype_numberOfRows_numberOfColumns(NSMakeRect(0,0,e,t),NSRadioModeMatrix,o,1,r);s.setCellSize(CGSizeMake(Math.floor(e/r),t)),s.cells().forEach(function(e,t){e.setTitle(i[t])});const c=i.indexOf(n);return s.selectCellAtRow_column(0,c),{view:s,retrieveValue:function(){const e=s.cells().indexOfObject(s.selectedCell());return i[e]}}}},function(e,t){e.exports=function({width:e,height:t,value:n,possibleValues:i}){const o=NSPopUpButton.alloc().initWithFrame(NSMakeRect(0,0,e,t));i.forEach(function(e){o.addItemWithTitle(e)});const r=i.indexOf(n);return o.selectItemAtIndex(r),{view:o,retrieveValue:function(){const e=o.indexOfSelectedItem();return i[e]}}}},function(e,t){e.exports={appcastFileName:"appcast.xml",bundleFileName:"plugin.js",manifestFileName:"manifest.json",packageJsonConfigKey:"sketch-plugin-helper",sourceDirectory:"./src"}},function(e,t){e.exports=function(){return JSON.parse('{\n  "private": true,\n  "version": "0.2.1",\n  "devDependencies": {\n    "sketch-plugin-helper": "*"\n  },\n  "scripts": {\n    "build": "sph build",\n    "fix": "sph lint --fix",\n    "link": "sph link",\n    "lint": "sph lint",\n    "unlink": "sph unlink",\n    "version": "sph version",\n    "watch": "sph watch"\n  },\n  "sketch-plugin-helper": {\n    "pluginName": "Extract Text",\n    "pluginDescription": "A Sketch plugin to extract text from layers that match a regular expression",\n    "authorName": "Lim Yuan Qing",\n    "githubUserName": "yuanqing",\n    "githubRepositoryName": "sketch-extract-text",\n    "menu": [\n      {\n        "handler": "extract-text",\n        "label": "Extract Text",\n        "shortcut": "ctrl option cmd e"\n      }\n    ],\n    "defaultSettings": {\n      "matchType": "Match layer content",\n      "regularExpression": "^Remark"\n    }\n  }\n}\n')}},function(e,t){e.exports={inputHeight:20,inputPaddingBottom:12,labelHeight:20,labelPaddingBottom:6,width:300}},function(e,t,n){const i=n(3),o=n(4);e.exports=function({settings:e,successMessage:t}){void 0!==e&&(Object.keys(e).forEach(function(t){const n=e[t];void 0!==n&&i.setSettingForKey(t,n)}),t&&o.message(t))}},function(e,t,n){const i=n(1),o=Object.keys(i).reduce(function(e,t){return e[t]=t,e},{});e.exports=o},function(e,t,n){const i=n(20),o=n(4);function r(){return i.getSelectedDocument().selectedPage.layers}e.exports={getAllArtboards:function(){return r().filter(function(e){return"Artboard"==e.type})},getAllLayers:r,getPage:function(){return i.getSelectedDocument().selectedPage},getSelectedLayers:function(){return i.getSelectedDocument().selectedLayers},showMessage:function(e){o.message(e)}}},function(e,t){e.exports=require("sketch/dom")},function(e,t){e.exports=function({textLayers:e,regularExpression:t,shouldMatchTextLayerContent:n}){return e.filter(function(e){const i=e.text,o=e.name;return!(""==i||!t.test(n?i:o))})}},function(e,t){e.exports=function e(t,n){return n=n||[],t.forEach(function(t){"Text"!=t.type?"Artboard"!=t.type&&"Group"!=t.type||e(t.layers,n):n.push(t)}),n}},function(e,t){e.exports=function(e){const t=NSPasteboard.generalPasteboard();t.clearContents(),t.setString_forType(function(e){return"\n"!=e.charAt(e.length-1)?e+"\n":e}(e),NSStringPboardType)}},function(e,t,n){const{TEXT_BOX:i,RADIO_BUTTONS:o}=n(0);e.exports={title:"Extract Text",inputs:[{key:"regularExpression",label:"Regular Expression",type:i},{key:"matchType",type:o,possibleValues:["Match layer content","Match layer name"]}]}}]));