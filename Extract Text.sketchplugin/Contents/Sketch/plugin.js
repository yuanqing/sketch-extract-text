!function(e,t){for(var n in t)e[n]=t[n]}(this,function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=14)}([function(e,t,n){"use strict";var r=n(6);n.o(r,"RADIO_BUTTONS")&&n.d(t,"RADIO_BUTTONS",function(){return r.RADIO_BUTTONS}),n.o(r,"TEXT_BOX")&&n.d(t,"TEXT_BOX",function(){return r.TEXT_BOX}),n.o(r,"getAllLayers")&&n.d(t,"getAllLayers",function(){return r.getAllLayers}),n.o(r,"getSelectedLayers")&&n.d(t,"getSelectedLayers",function(){return r.getSelectedLayers}),n.o(r,"openUserInputDialog")&&n.d(t,"openUserInputDialog",function(){return r.openUserInputDialog}),n.o(r,"saveUserInput")&&n.d(t,"saveUserInput",function(){return r.saveUserInput}),n.o(r,"showErrorMessage")&&n.d(t,"showErrorMessage",function(){return r.showErrorMessage}),n.o(r,"showSuccessMessage")&&n.d(t,"showSuccessMessage",function(){return r.showSuccessMessage}),n.o(r,"showWarningMessage")&&n.d(t,"showWarningMessage",function(){return r.showWarningMessage});n(2);var o=n(7);n.d(t,"openUserInputDialog",function(){return o.a});var i=n(8);n.d(t,"saveUserInput",function(){return i.a});n(9),n(10);var s=n(11);n.d(t,"getAllLayers",function(){return s.a}),n.d(t,"getSelectedLayers",function(){return s.b});n(12);var u=n(3);n.d(t,"showErrorMessage",function(){return u.a}),n.d(t,"showSuccessMessage",function(){return u.c}),n.d(t,"showWarningMessage",function(){return u.d})},function(e,t){e.exports=require("sketch/dom")},function(e,t,n){"use strict";n.d(t,"a",function(){return s});const r=n(4),{packageJsonConfigKey:o}=n(15),i=n(16);function s(){const{defaults:e}=i()[o];return Object.keys(e).reduce(function(t,n){const o=r.settingForKey(n);return t[n]=void 0!==o?o:e[n],t},{})}},function(e,t,n){"use strict";n.d(t,"b",function(){return i}),n.d(t,"c",function(){return s}),n.d(t,"d",function(){return u}),n.d(t,"a",function(){return c});var r=n(13),o=n.n(r);function i(e,t){o.a.message(t&&t.symbol?`${t.symbol} ${e}`:e)}function s(e){i(e,{symbol:"‚úÖ"})}function u(e){i(e,{symbol:"‚ö†Ô∏è"})}function c(e){i(e,{symbol:"üî¥"})}},function(e,t){e.exports=require("sketch/settings")},function(e,t,n){"use strict";function r({width:e,height:t,label:n,value:r}){const o=NSButton.alloc().initWithFrame(NSMakeRect(0,0,e,t));return o.setButtonType(NSSwitchButton),o.setBezelStyle(0),o.setState(r?NSOnState:NSOffState),o.setTitle(n),{view:o,retrieveValue:function(){return"1"==o.stringValue()}}}function o({width:e,height:t,value:n,possibleValues:r}){const o=NSPopUpButton.alloc().initWithFrame(NSMakeRect(0,0,e,t));r.forEach(function(e){o.addItemWithTitle(e)});const i=r.indexOf(n);return o.selectItemAtIndex(i),{view:o,retrieveValue:function(){const e=o.indexOfSelectedItem();return r[e]}}}function i({width:e,height:t,value:n,possibleValues:r}){const o=NSButtonCell.alloc().init();o.setButtonType(NSRadioButton);const i=r.length,s=NSMatrix.alloc().initWithFrame_mode_prototype_numberOfRows_numberOfColumns(NSMakeRect(0,0,e,t),NSRadioModeMatrix,o,1,i);s.setCellSize(CGSizeMake(Math.floor(e/i),t)),s.cells().forEach(function(e,t){e.setTitle(r[t])});const u=r.indexOf(n);return s.selectCellAtRow_column(0,u),{view:s,retrieveValue:function(){const e=s.cells().indexOfObject(s.selectedCell());return r[e]}}}function s({width:e,height:t,value:n,placeholder:r}){const o=NSTextField.alloc().initWithFrame(NSMakeRect(0,0,e,t));return o.setStringValue(n),r&&o.setPlaceholderString(r),{view:o,retrieveValue:function(){return o.stringValue()}}}n.r(t),n.d(t,"CHECK_BOX",function(){return r}),n.d(t,"DROP_DOWN",function(){return o}),n.d(t,"RADIO_BUTTONS",function(){return i}),n.d(t,"TEXT_BOX",function(){return s})},function(e,t,n){const r=n(5),o=Object.keys(r).reduce(function(e,t){return e[t]=t,e},{});e.exports=o},function(e,t,n){"use strict";n.d(t,"a",function(){return p});var r=n(2),o=n(5);const i=n(17),s=n(18),u=n(19),{formHeight:c,formPaddingBottom:a,labelHeight:l,labelPaddingBottom:f,width:d}=n(20);function p({title:e,inputs:t}){const n=Object(r.a)(),{inputs:p,views:h,stackViewHeight:g}=function({inputsConfig:e,savedUserInput:t}){const n={},r=[];let i=0;return e.forEach(function({type:e,key:u,label:p,...h}){if(p&&"CHECK_BOX"!=e){const e=s({label:p,width:d,height:l});r.push({view:e,paddingBottom:f}),i+=l+f}const g=t[u],{view:y,retrieveValue:b}=o[e]({label:p,value:g,width:d,height:c,...h});r.push({view:y,paddingBottom:a}),i+=c+a,n[u]=b}),{inputs:n,views:r,stackViewHeight:i-=a}}({inputsConfig:t,savedUserInput:n}),y=u({width:d,height:g,views:h}),b=i(e);return b.setAccessoryView(y),"1000"==b.runModal()?Object.keys(p).reduce(function(e,t){const n=p[t];return e[t]=n(),e},{}):null}},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(4),o=n(3);function i(e,t){void 0!==e&&(Object.keys(e).forEach(function(t){const n=e[t];void 0!==n&&Object(r.setSettingForKey)(t,n)}),t&&t.successMessage&&Object(o.b)(t.successMessage))}},function(e,t,n){"use strict";n(1)},function(e,t,n){"use strict"},function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return i});var r=n(1);function o(){return Object(r.getSelectedDocument)().selectedPage.layers}function i(){return Object(r.getSelectedDocument)().selectedLayers.layers}},function(e,t,n){"use strict"},function(e,t){e.exports=require("sketch/ui")},function(e,t,n){e.exports={"extract-text":n(21).default}},function(e,t){e.exports={appcastFileName:"appcast.xml",bundleFileName:"plugin.js",manifestFileName:"manifest.json",packageJsonConfigKey:"sketch-plugin-helper",sourceDirectory:"./src"}},function(e,t){e.exports=function(){return JSON.parse('{\n  "private": true,\n  "version": "0.3.0",\n  "devDependencies": {\n    "sketch-plugin-helper": "*"\n  },\n  "scripts": {\n    "build": "sph build",\n    "fix": "sph lint --fix",\n    "lint": "sph lint",\n    "symlink": "sph symlink",\n    "unlink": "sph symlink --delete",\n    "version": "sph version",\n    "watch": "sph build --watch"\n  },\n  "sketch-plugin-helper": {\n    "pluginName": "Extract Text",\n    "pluginDescription": "A Sketch plugin to extract text from layers that match a regular expression",\n    "authorName": "Lim Yuan Qing",\n    "githubUserName": "yuanqing",\n    "githubRepositoryName": "sketch-extract-text",\n    "menu": [\n      {\n        "handler": "extract-text",\n        "label": "Extract Text",\n        "shortcut": "ctrl option cmd e"\n      }\n    ],\n    "defaults": {\n      "matchType": "Match layer content",\n      "regularExpression": "^Remark"\n    }\n  }\n}\n')}},function(e,t){e.exports=function(e){const t=NSAlert.alloc().init();return t.window().setAutorecalculatesKeyViewLoop(!0),t.setMessageText(e),t.addButtonWithTitle("OK"),t.addButtonWithTitle("Cancel"),t}},function(e,t){e.exports=function({label:e,width:t,height:n}){const r=NSTextField.alloc().initWithFrame(NSMakeRect(0,0,t,n));return r.setBezeled(!1),r.setDrawsBackground(!1),r.setEditable(!1),r.setLineBreakMode(NSLineBreakByTruncatingTail),r.setSelectable(!1),r.setStringValue(e),r}},function(e,t){e.exports=function({width:e,height:t,views:n}){const r=NSStackView.alloc().initWithFrame(NSMakeRect(0,0,e,t));return r.setAlignment(NSLayoutAttributeLeft),r.setOrientation(NSUserInterfaceLayoutOrientationVertical),r.setSpacing(0),r.setTranslatesAutoresizingMaskIntoConstraints(!0),r.updateConstraintsForSubtreeIfNeeded(),n.forEach(function({view:e,paddingBottom:t}){r.addView_inGravity_(e,NSStackViewGravityTop),r.setCustomSpacing_afterView_(t,e)}),r}},function(e,t){e.exports={formHeight:20,formPaddingBottom:12,labelHeight:20,labelPaddingBottom:6,width:300}},function(e,t,n){"use strict";n.r(t);var r=n(0);function o(e,t){return t=t||[],e.forEach(function(e){"Text"!=e.type?"Artboard"!=e.type&&"Group"!=e.type||o(e.layers,t):t.push(e)}),t}n.d(t,"default",function(){return s});const i={title:"Extract Text",inputs:[{key:"regularExpression",label:"Regular Expression",type:r.TEXT_BOX},{key:"matchType",type:r.RADIO_BUTTONS,possibleValues:["Match layer content","Match layer name"]}]};function s(){const e=Object(r.openUserInputDialog)(i);e&&Object(r.saveUserInput)(e);const t=Object(r.getSelectedLayers)();let n=[];if(0==t.length){if(0==(n=o(Object(r.getAllLayers)())).length)return void Object(r.showErrorMessage)("No text layers on the page")}else if(0==(n=o(t)).length)return void Object(r.showErrorMessage)("No text layers in selection");const s=function({textLayers:e,regularExpression:t,shouldMatchTextLayerContent:n}){return e.filter(function(e){const r=e.text,o=e.name;return!(""==r||!t.test(n?r:o))})}({textLayers:n,regularExpression:new RegExp(""==e.regularExpression?"^.+$":e.regularExpression),shouldMatchTextLayerContent:"Match layer content"==e.matchType}),u=s.length;0!=u?(!function(e){const t=NSPasteboard.generalPasteboard();t.clearContents(),t.setString_forType(function(e){return"\n"!=e.charAt(e.length-1)?e+"\n":e}(e),NSStringPboardType)}(s.map(function(e){return e.text}).reverse().join("\n")),Object(r.showSuccessMessage)(`Copied ${u} match${1!=u?"es":""} to clipboard`)):Object(r.showWarningMessage)("No matches")}}]));